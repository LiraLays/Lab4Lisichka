# Калькулятор логических функций

## О проекте

WPF приложение для работы с булевыми функциями и логическими выражениями. 
Проект предоставляет инструментарий для анализа логических функций через построение таблиц истинности, генерацию нормальных форм и проверку эквивалентности выражений.

**Основная цель**: Создание удобного инструмента для изучения и анализа булевых функций с визуализацией результатов вычислений.

## Архитектура проекта

- src/
  - ClassLab4/
    - Exceptions/
      - FormulaParseException.cs
    - Models/
      - LogicalFunction.cs
      - TruthTableRow.cs
      - TruthTableRowViewModel.cs
      - AstNodes/
        - Node.cs
    - Parser/
      - FormulaParser.cs
      - Token.cs
      - TokenType.cs
    - Services/
      - ILogicFunctionService.cs
  - WpfLab4/
    - App.xaml
    - LogicalFunctionService.cs
    - MainViewModel.cs
    - MainWindow.xaml
    - HelpWindow.xaml
    - NullToVisibilityConverter.cs
    - RelayCommand.cs
- tests/
  - UnitTests.cs

## Функциональность

### Анализ логических функций

**Построение таблиц истинности**
- Автоматическое определение количества переменных
- Генерация всех возможных комбинаций входных значений
- Отображение только используемых переменных

**Генерация нормальных форм**  
- Дизъюнктивная нормальная форма (DNF)
- Конъюнктивная нормальная форма (KNF)
- Автоматическое построение на основе таблицы истинности

**Проверка эквивалентности**
- Сравнение таблиц истинности двух функций
- Визуальная индикация результата
- Поддержка функций с разными способами задания

### Способы задания функций

**Ввод по формуле**
- Поддержка логических операторов: & (И), | (ИЛИ), ! (НЕ)
- Использование скобок для задания приоритета
- Переменные: A, B, C, D, E

**Ввод по номеру функции**
- Номера 0-15: функции от 2 переменных
- Номера 16-255: функции от 3 переменных  
- Номера 256-65535: функции от 4 переменных
- Автоматическое определение количества переменных

### Визуальные возможности

- Интерактивный интерфейс с вкладками для каждой функции
- Динамическое отображение таблиц истинности
- Подсветка эквивалентности функций
- Расчет стоимости логических выражений
- Сворачиваемые панели результатов

## Технологии

- .NET 8 - целевая платформа
- WPF - пользовательский интерфейс
- MVVM - архитектурный паттерн
- INotifyPropertyChanged - механизм уведомлений об изменениях
- XAML - разметка пользовательского интерфейса

## Принципы работы с логическими функциями

### Таблица истинности

Для функции от n переменных строится 2ⁿ строк, каждая из которых представляет уникальную комбинацию входных значений и соответствующий результат функции.

### Нормальные формы

**Дизъюнктивная нормальная форма (DNF)**
Сумма произведений, где каждое произведение соответствует строке таблицы истинности с результатом 1.

**Конъюнктивная нормальная форма (KNF)**
Произведение сумм, где каждая сумма соответствует строке таблицы истинности с результатом 0.

### Эквивалентность функций

Две логические функции считаются эквивалентными, если их таблицы истинности полностью совпадают.

## Запуск проекта

### Предварительные требования

- .NET 8 SDK или выше
- Visual Studio 2022 или VS Code с C# расширениями

### Инструкция по запуску

1. Клонирование репозитория
```bash
git clone <repository-url>
cd WpfLab4
```

2. Восстановление зависимостей
```bash
dotnet restore
```

3. Сборка проекта

```bash
dotnet build
```

4. Запуск приложения

```bash
dotnet run
```

*Альтернативный запуск через Visual Studio*
- Откройте WpfLab4.sln
- Установите WPF проект как стартовый
- Нажмите F5 для запуска

## Использование приложения

**Быстрый старт**
1. В поле "Функция 1" введите: A & B
2. Нажмите кнопку "Построить функцию 1"
3. Перейдите во вкладку "Функция 1" для просмотра результатов

**Анализ функции по формуле**
1. Ввод выражения - используйте операторы &, |, !
2. Построение - нажмите соответствующую кнопку построения
3. Изучение результатов - таблица истинности, DNF/KNF, стоимость

**Анализ функции по номеру**
1. Ввод номера - целое число от 0 до 65535
2. Автоматическое определение - система сама определит количество переменных
3. Исследование - изучение свойств функции по ее номеру

**Проверка эквивалентности**
1. Постройте обе функции
2. Нажмите "Проверить эквивалентность"
3. Анализ результата - зеленая индикация (эквивалентны) или красная (не эквивалентны)

## Примеры использования

**Пример 1: Проверка тождества**
```text
Функция 1: A & B
Функция 2: !(!A | !B)
```
Результат: функции эквивалентны

**Пример 2: Исследование XOR**
```text
Функция 1: 6 (номер функции XOR для 2 переменных)
Функция 2: (A & !B) | (!A & B)
```
Результат: функции эквивалентны

**Пример 3: Сравнение сложных выражений**
```text
Функция 1: (A | B) & (!A | C)
Функция 2: (A & C) | (!A & B)
```
Приложение покажет, эквивалентны ли эти выражения\

## Структура данных

**Класс LogicalFunction**
Основной класс для представления булевой функции
```csharp
public class LogicalFunction
{
    public string Name { get; set; }
    public int VariablesCount { get; }
    public string Formula { get; }
    public IReadOnlyList<TruthTableRow> TruthTable { get; }
    
    public string GetDnf()
    public string GetKnf()
    public bool IsEquivalentTo(LogicalFunction other)
    public int GetCost()
}
```

**Класс TruthTableRow**
Представление строки таблицы истинности

```csharp
public class TruthTableRow
{
    public IReadOnlyList<bool> Inputs { get; }
    public bool Result { get; }
}
```

**Интерфейс ILogicFunctionService**
Сервис для работы с логическими функциями

```csharp
public interface ILogicFunctionService
{
    LogicalFunction CreateFromFormula(string formula);
    LogicalFunction CreateFromNumber(int variableCount, int functionNumber);
    bool AreEquivalent(LogicalFunction f1, LogicalFunction f2);
}
```

## Особенности реализации
**Надежность вычислений**
- Валидация входных формул
- Обработка синтаксических ошибок
- Корректное определение количества переменных

**Пользовательский интерфейс**
- Реактивный дизайн на основе MVVM
- Динамическое обновление результатов
- Интуитивная навигация по вкладкам

**Производительность**
- Эффективные алгоритмы построения таблиц истинности
- Оптимизированная генерация нормальных форм
- Быстрая проверка эквивалентности

## Дальнейшее развитие
Возможные направления для улучшения проекта

1. **Минимизация функций** - реализация алгоритмов Квайна-МакКласки и карт Карно
2. **Расширенный синтаксис** - поддержка дополнительных логических операций
3. **Визуализация схем** - графическое представление логических схем
4. **Экспорт результатов** - сохранение таблиц и выражений в различные форматы
5. **Анализ полноты систем** - проверка функциональной полноты наборов логических операций

## Разработчики
Разработчики: Полосков А.Д. Дубков С.В. Иванов М.А. Проект разработан в учебных целях для демонстрации принципов работы с булевыми функциями и логическими выражениями.
